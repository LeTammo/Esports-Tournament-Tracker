<li class="list-group-item tournament-item <%= itemExtraClass || '' %>
    <%= t.included === false && filters && (filters.include.length || filters.exclude.length) ? ' filtered d-none' : '' %>"
    data-included="<%= t.included %>" data-idx="<%= prefix %>-<%= idx %>">
    <div class="ti-row d-flex">
        <div class="ti-main flex-grow-1 w-100">
            <% 
                const escapeRegex = s => (s || '').replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                const stripGameFromName = (name, game) => {
                    if (!name) return '';
                    if (!game) return name;
                    const g = String(game).trim();
                    let n = String(name).trim();

                    const lead = new RegExp('^\\s*' + escapeRegex(g) + '\\s*[:\\-â€“â€”\\|]\\s*', 'i');
                    n = n.replace(lead, '');

                    const dup = new RegExp('^\\s*' + escapeRegex(g) + '\\s+', 'i');
                    n = n.replace(dup, '');

                    return n;
                };
                const dn = stripGameFromName(t.name, t.game_name);
                const displayName = dn && dn.trim().length ? dn : t.name;
            %>

            <div class="ti-name text-truncate">
                <a class="brand-accent d-inline-block text-truncate w-100"
                   href="<%= t.url %>" target="_blank" rel="noopener noreferrer">
                    <%= displayName %>
                </a>
            </div>

            <div class="ti-meta text-muted small">
                <span style="text-transform: capitalize"><%= t.game_name %></span>
                <% if (showEta && t.eta) { %>
                    <span>| <%= t.eta %></span>
                <% } %>
                <span>| <%= formatDateRange(t._sd || t.start_date, t._ed || t.end_date) %></span>
                <% if (t.location) { %>
                    <span>| <%= t.location %></span>
                <% } %>
            </div>
        </div>
    </div>
</li>
